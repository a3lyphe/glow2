<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>test: glow</title>
	
	<script src="qunit.js" type="text/javascript"></script>
	<link rel="stylesheet" rev="stylesheet" href="qunit.css" type="text/css" media="screen">

	<script src="../../src/glow.js" type="text/javascript"></script>
	
	<script type="text/javascript">
		module("Glow");
		
		Glow.versions = ['2.0.0 rc-1', '2.0.0', '2.0.1', '2.1.0 rc-1', '2.1.0'];
		test("resolveVersion", function() {
			expect(5);
			
			var glow = Glow('2');
		
				ok( (glow !== undefined), 'glow is defined.' );
				equals(glow.version, '2.1.0', 'glow.version is set to the latest minor+bugfix version.');
			
			glow = Glow('2.0');
			
				equals(glow.version, '2.0.1', 'glow.version is set to the latest bugfix version.');
			
			glow = Glow('2.1.0 rc-1');
			
				equals(glow.version, '2.1.0 rc-1', 'glow.version is set to the latest exact version.');
			
			try { glow = Glow('3'); }
			catch(e) {
				ok( true, 'an undefined version throws an error.' );
			}
		});
		
		
		var myGlow = Glow('2.0.0'); // set up for the next test
	</script>
	
	<!-- TODO: write these out dynamically in the load() method -->
	<script src="../../src/lang/lang.js" type="text/javascript"></script>

	<script type="text/javascript">
		
		test("provide", function() {
			expect(6);
			
			ok( (Glow.instances['2.0.0'] !== undefined), 'reference to 2.0.0 glow instance is defined.' );
			ok( (Glow.instances['2.0.0'].lang !== undefined), 'namespace lang is defined there.' );
			ok( (Glow.instances['2.0.0'].lang.trim !== undefined), 'method lang.trim is defined there.' );
			ok( (Glow.instances['2.0.0'].lang.toArray !== undefined), 'method lang.toArray is defined there.' );
			
			ok( (myGlow.lang !== undefined), 'my instance of glow has the module defined.' );
			
			var trimmed = myGlow.lang.trim("  Hello World  ");
			equals( trimmed, 'Hello World', 'my instance of glow has module methods that can be called.' );
			
		});
		
	</script>

</head>
<body>
	<h1 id="qunit-header">Unit Tests: glow.js</h1>
	<h2 id="qunit-banner"></h2>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
</body>
</html>
