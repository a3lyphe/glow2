<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>test: glow</title>
	
	<!--script type="text/javascript">
		assert = {
			ok: function(t, msg) {
				console.log( t + ' - ' + msg);
			},
			equals: function(a, b, msg) {
				console.log( (a == b) + ' - ' + msg + ' [' + a + ' == ' + b + '].' );
			}
		};
	</script-->
	
	<script src="qunit.js" type="text/javascript"></script>
	<link rel="stylesheet" rev="stylesheet" href="qunit.css" type="text/css" media="screen">

	<script src="../../src/glow.js" type="text/javascript"></script>
	
	<script type="text/javascript">
		module("Version Resolution");
		
		Glow.versions = ['2.0.0 rc-1', '2.0.0', '2.0.1', '2.1.0 rc-1', '2.1.0'];
		test("Glow can find the latest available version that matches.", function() {
			expect(7);
			
			var glow = Glow('2');
		
				ok( (glow !== undefined), 'glow is defined.' );
				equals(glow.version, '2.1.0', 'glow.version is set to the latest minor+bugfix version.');
			
			glow = Glow('2.0');
			
				equals(glow.version, '2.0.1', 'glow.version is set to the latest bugfix version.');
			
			glow = Glow('2.1.0 rc-1');
			
				equals(glow.version, '2.1.0 rc-1', 'glow.version is set to the latest exact version.');
			
			try { glow = Glow('3'); }
			catch(e) {
				ok( true, 'an undefined version throws an error.' );
			}
			
			glow = glow.load('widgets');
			
				ok( (glow !== undefined), 'glow is returned by glow.load().' );
			
			glow = glow.load('widgets').ready( function(){} );
			
				ok( (glow !== undefined), 'glow is returned by glow.ready().' );
		});
		
	</script>

</head>
<body>
	<h1 id="qunit-header">Unit Tests: glow.js</h1>
	<h2 id="qunit-banner"></h2>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
</body>
</html>
